---
import hero from '../data/hero.json';
import headerImage from '../assets/header-image.png';
import logoImage from '../assets/logo.png';

// Mapping des images depuis le JSON vers les imports statiques
const imageMap: Record<string, any> = {
  '../assets/header-image.png': headerImage,
  '../assets/logo.png': logoImage,
};

const heroImage = imageMap[hero.image.src] || headerImage;
const logo = imageMap[hero.logo.src] || logoImage;
---

<section class="relative md:min-h-[70vh] flex items-center overflow-hidden" style="background-color: #0084FF;">
  <div class="flex flex-col-reverse md:flex-row w-full md:h-[70vh] gap-0 ">
    <!-- Section gauche - Fond noir -->
    <div class="flex-1 flex flex-col justify-between p-12 md:p-4 sm:p-6 lg:p-12 md:rounded-tr-3xl md:rounded-br-3xl relative z-10" style="background-color: #030508;">
      <!-- Logo -->
      <div class="flex items-center mb-4 lg:mb-8">
        <img 
          src={logo.src}
          alt={hero.logo.alt}
          class="h-12 sm:h-14 lg:h-16 w-auto"
        />
      </div>

      <!-- Contenu principal -->
      <div class="flex-1 flex flex-col justify-center space-y-4 sm:space-y-6 lg:space-y-8 max-w-2xl">
        <!-- Titre principal -->
        <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-white" style="font-family: 'Climate Crisis', sans-serif;">
          <span class="block">
            {hero.title.line1} <span style="color: #0084FF;">{hero.title.line1Highlight}</span>,
          </span>
          <span class="block">{hero.title.line2}</span>
          <span class="block">{hero.title.line3}</span>
          <span class="block">
            {hero.title.line4Highlight ? (
              <span style="color: #0084FF;">{hero.title.line4.replace('!', ' !')}</span>
            ) : (
              <span>{hero.title.line4.replace('!', ' !')}</span>
            )}
          </span>
        </h1>

        <!-- Texte descriptif -->
        <p class="text-sm sm:text-base lg:text-xl text-white leading-relaxed max-w-xl font-bold" style="font-family: 'Montserrat', sans-serif;">
          {hero.description}
        </p>

        <!-- Boutons CTA -->
        <div class="flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 pt-2 lg:pt-4">
          {hero.buttons.map((button) => (
            <a 
              href={button.href}
              class={`px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 text-sm sm:text-base font-medium rounded transition-all ${
                button.style === 'outline' 
                  ? 'bg-white hover:bg-gray-100' 
                  : ''
              }`}
              style={button.style === 'outline' 
                ? 'border: 1px solid #030508; color: #0084FF;' 
                : 'background-color: #0084FF; color: white;'}
            >
              {button.text}
            </a>
          ))}
        </div>
      </div>
    </div>

    <!-- Section droite - Fond bleu -->
    <div class="flex-1 flex items-center justify-start relative overflow-hidden min-h-[40vh] lg:min-h-0" style="margin-left: -24px; clip-path: inset(0 0 0 24px); background-color: #0084FF;">
      <!-- Image header -->
      <img 
        src={heroImage.src}
        alt={hero.image.alt}
        class="w-full max-w-xl h-auto object-contain translate-x-4 translate-y-4"
      />
    </div>
  </div>
</section>
