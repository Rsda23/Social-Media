---
import services from '../data/services.json';
import checkImage from '../assets/check.png';

// Mapping des images
const imageMap: Record<string, any> = {
  '../assets/check.png': checkImage,
};

const check = imageMap[services.left.image] || checkImage;
---

<section class="py-24 bg-white">
  <div class="container mx-auto px-6">
    <div class="grid lg:grid-cols-3 gap-12 lg:gap-16">
      <!-- Colonne gauche - Image et slogan -->
      <div class="space-y-6 animate-on-scroll">
        <!-- Image check et banner ensemble avec rotation -->
        <div class="relative flex flex-col items-start lg:items-start" style="transform: rotate(-2deg) !important; transform-origin: center;">
          <!-- Image check - avant le banner partout -->
          <div class="order-1 w-full max-w-[180px] lg:max-w-md lg:mb-0">
            <img 
              src={check.src}
              alt="Check list"
              class="w-full h-auto object-contain"
            />
          </div>
          
          <!-- Banner bleu - après l'image partout, style comme "NOS MÉTIERS" en mobile -->
          <div class="order-2 text-white px-3 py-2 lg:px-6 lg:py-3 rounded-lg inline-block lg:w-full lg:-mt-px" style="background-color: #0084FF;">
            <span class="font-bold text-sm lg:text-lg uppercase tracking-wide" style="font-family: 'Climate Crisis', sans-serif;">
              {services.left.banner}
            </span>
          </div>
        </div>

        <!-- Slogan avec rotation -->
        <div class="space-y-2" style="transform: rotate(-2deg) !important; transform-origin: center;">
          <h2 class="text-3xl lg:text-4xl font-bold uppercase leading-tight" style="font-family: 'Climate Crisis', sans-serif; color: #030508;">
            {services.left.slogan.line1}
          </h2>
          <h2 class="text-3xl lg:text-4xl font-bold uppercase leading-tight" style="font-family: 'Climate Crisis', sans-serif; color: #030508;">
            {services.left.slogan.line2}
          </h2>
          <h2 class="text-3xl lg:text-4xl font-bold uppercase leading-tight" style="font-family: 'Climate Crisis', sans-serif; color: #030508;">
            EN <span style="color: #0084FF;">VRAI !</span>
          </h2>
        </div>
      </div>

      <!-- Colonne milieu - Nos métiers -->
      <div class="space-y-6 animate-on-scroll" style="animation-delay: 0.1s; padding-bottom: 2rem;">
        <!-- Banner bleu avec rotation -->
        <div class="text-white px-6 py-3 rounded-lg inline-block" style="background-color: #0084FF; transform: rotate(-2deg) !important; transform-origin: center;">
          <span class="font-bold text-lg uppercase tracking-wide" style="font-family: 'Climate Crisis', sans-serif;">
            {services.middle.title}
          </span>
        </div>

        <!-- Liste des métiers -->
        <ul class="space-y-6">
          {services.middle.items.map((item) => (
            <li>
              <h3 class="font-bold text-base mb-2" style="font-family: 'Montserrat', sans-serif; color: #030508; line-height: 1;">
                {item.title}
              </h3>
              <p class="text-base lg:text-lg leading-relaxed font-medium" style="font-family: 'Montserrat', sans-serif; color: #B4B4B4;">
                {item.description}
              </p>
            </li>
          ))}
        </ul>
      </div>

      <!-- Colonne droite - Ce qu'on fait -->
      <div class="space-y-6 animate-on-scroll" style="animation-delay: 0.2s; padding-bottom: 2rem;">
        <!-- Banner bleu avec rotation -->
        <div class="text-white px-6 py-3 rounded-lg inline-block" style="background-color: #0084FF; transform: rotate(-2deg) !important; transform-origin: center;">
          <span class="font-bold text-lg uppercase tracking-wide" style="font-family: 'Climate Crisis', sans-serif;">
            {services.right.title}
          </span>
        </div>

        <!-- Liste des actions -->
        <ul class="space-y-6">
          {services.right.items.map((item) => (
            <li>
              <h3 class="font-bold text-base mb-2" style="font-family: 'Montserrat', sans-serif; color: #030508; line-height: 1;">
                {item.title}
              </h3>
              <p class="text-base lg:text-lg leading-relaxed font-medium" style="font-family: 'Montserrat', sans-serif; color: #B4B4B4;">
                {item.description}
              </p>
            </li>
          ))}
        </ul>
      </div>
    </div>
  </div>
</section>

